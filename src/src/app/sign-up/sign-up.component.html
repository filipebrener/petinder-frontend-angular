<mat-toolbar class="main-toolbar">
    <span class="logo" routerLink="../home"><i class="bi bi-fire">&nbsp;</i>PeTinder</span>
</mat-toolbar>
<mat-card>
    <h1>Cadastre-se</h1>
    <mat-card-content>
        <form [formGroup]="form" class="signup-form">
            
            <mat-form-field class="full-width" >
                <mat-label>Nome completo</mat-label>
                <input matInput formControlName="name">
                <mat-error>O nome completo &eacute; obrigat&oacute;rio!</mat-error>
            </mat-form-field>

            <mat-form-field class="full-width" >
                <mat-label>Nome de usuário</mat-label>
                <input matInput formControlName="username"  mask="@A*">
                <mat-error >O nome de usuário &eacute; obrigat&oacute;rio!</mat-error>
            </mat-form-field>

            <div class="inline-inputs-form">

                <mat-form-field >
                    <mat-label>Email*</mat-label>
                    <input matInput formControlName="email">
                    <mat-error>
                        <span *ngIf="form.get('email')?.hasError('email'); else emailRequired">
                            Formato inv&aacute;lido!
                        </span>
                    </mat-error>
                </mat-form-field>
            
                <mat-form-field >
                    <mat-label>Confirmar email</mat-label>
                    <input matInput formControlName="confirmationEmail">
                    <mat-error>
                        <span *ngIf="form.get('confirmationEmail')?.hasError('equalsTo') ; else emailConfirmationRequired">
                            O email deve ser igual!
                        </span> 
                    </mat-error>
                </mat-form-field>   

            </div>

            <mat-form-field class="full-width" >
                <mat-label>CPF</mat-label>
                <input matInput formControlName="cpf" mask="000.000.000-00">
                <mat-error>O CPF &eacute; obrigat&oacute;rio!</mat-error>
            </mat-form-field>
            
            <mat-form-field class="full-width" >
                <mat-label>Celular*</mat-label>
                <input type="text" matInput formControlName="celNumber" mask="(00) 0 0000-0000" >
                <mat-error>O número de celular &eacute; obrigat&oacute;rio!</mat-error>
            </mat-form-field>
            
            <div class="inline-inputs-form">
                <mat-form-field class="input-with-suffix-button">
                    <mat-label>Senha</mat-label>
                    <input type="{{ isToShowPassword ? 'text' : 'password'}}" matInput formControlName="password">
                    <button type="button" mat-icon-button matSuffix (click)="isToShowPassword = !isToShowPassword">
                        <span *ngIf="isToShowPassword; else eyeSlash">
                            <i class="bi bi-eye"></i>
                        </span>
                    </button>
                    <mat-error>A senha é &eacute; obrigat&oacute;ria!</mat-error>
                </mat-form-field>
                <mat-form-field  class="input-with-suffix-button">
                    <mat-label class="password-input">Confirmar senha</mat-label>
                    <input type="{{ isToShowConfirmationPassword ? 'text' : 'password'}}" matInput formControlName="confirmationPassword">
                    <button type="button" mat-icon-button matSuffix (click)="isToShowConfirmationPassword = !isToShowConfirmationPassword">
                        <span *ngIf="isToShowConfirmationPassword; else eyeSlash">
                            <i class="bi bi-eye"></i>
                        </span>
                    </button>
                    <mat-error>
                        <span *ngIf="form.get('confirmationPassword')?.hasError('equalsTo') ; else passwordRequired">
                            A senha deve ser igual!
                        </span> 
                    </mat-error>
                </mat-form-field>
            </div>
        </form>
    </mat-card-content>

    <mat-card-actions>
        <button mat-raised-button color="primary" (click)="onSubmit()">Cadastrar</button>
        <button mat-raised-button routerLink="../home">Cancelar</button>
    </mat-card-actions>


</mat-card>

<ng-template #eyeSlash >
    <i class="bi bi-eye-slash"></i>
</ng-template>

<ng-template #emailConfirmationRequired>
    Confirmar o email &eacute; obrigat&oacute;rio!
</ng-template>

<ng-template #passwordRequired>
    Confirmar a senha &eacute; obrigat&oacute;rio!
</ng-template>

<ng-template #emailRequired>O email &eacute; obrigat&oacute;rio!</ng-template>
